<!DOCTYPE html>
<html>
<head>
	<title>Web Storage</title>
</head>
<body onload="applySetting()">
</pre>
	<section><form onsubmit="javascript:setSettings()"><label>Select your BG color: </label>
 	<input id="favcolor" type="color" value="#ffffff" />

 	<label>Select Font Size: </label>
 	<input id="fontwt" type="number" max="100" min="1" value="20" />

 	<input type="submit" value="Save" />
 	<input onclick="clearSettings()" type="reset" value="Clear" />
 	</form></section>
<pre>

<script type="text/javascript">

	function setSettings() {
		if ('localStorage' in window && window['localStorage'] !== null) {
			var favcolor = document.getElementById('favcolor').value;
			var fontwt = document.getElementById('fontwt').value;
			localStorage.bgcolor = favcolor;
			localStorage.fontweight = fontwt;
		} 	
		else {
			alert('Cannot store user preferences as your browser do not support local storage');
		}
	}


	function applySetting() {
		if (localStorage.length != 0) {
		document.body.style.backgroundColor = localStorage.getItem('bgcolor');
		document.body.style.fontSize = localStorage.fontweight + 'px';
		document.getElementById('favcolor').value = localStorage.bgcolor;
		document.getElementById('fontwt').value = localStorage.fontweight;
		} else {
		document.body.style.backgroundColor = '#FFFFFF';
		document.body.style.fontSize = '13px'
		document.getElementById('favcolor').value = '#FFFFFF';
		document.getElementById('fontwt').value = '13';
		}
	}

	function clearSettings() {
		localStorage.removeItem("bgcolor");
		localStorage.removeItem("fontweight");
		document.body.style.backgroundColor = '#FFFFFF';
		document.body.style.fontSize = '13px'
		document.getElementById('favcolor').value = '#FFFFFF';
		document.getElementById('fontwt').value = '13';

	}
 </script>
</body>
</html>